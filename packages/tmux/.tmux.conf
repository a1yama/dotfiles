# tmux: beginner-friendly configuration with discoverable key bindings.

##### Prefix customization #################################################
# Keep leader actions ergonomic by moving the prefix from the default C-b to C-q.
unbind C-b
set -g prefix C-q
bind C-q send-prefix

##### Pane management ######################################################
# Intuitive split bindings: vertical (|) and horizontal (-) just like text editors.
bind | split-window -h
bind - split-window -v
# Remove legacy split bindings to prevent accidental use.
unbind '"'
unbind %

# Vim-style pane navigation for seamless movement with h/j/k/l.
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resizing panes with uppercase H/J/K/L; -r allows holding the key down.
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

##### Quality-of-life tweaks ###############################################
# Enable mouse interaction for selecting panes, resizing, and scrolling.
set -g mouse on

# Advertise 256-color support so applications can use richer color themes.
set -g default-terminal "tmux-256color"

# Keep a longer scrollback history for commands that produce lots of output.
set -g history-limit 10000

# Use vi-style keys inside copy mode for consistency with common workflows.
set -g mode-keys vi

# Reload the config quickly with Prefix + r.
bind r source-file ~/.tmux.conf \; display-message "tmux config reloaded"

# Start counting windows and panes at 1 so numbering matches mental models.
set -g base-index 1
setw -g pane-base-index 1

##### Visual improvements ##################################################
# Keep the status bar at the bottom (tmux default, stated explicitly for clarity).
set -g status-position bottom

# Style the status bar with helpful information: session name on the left,
# window list in the center, and time/user info on the right.
set -g status-style "bg=#202020 fg=#e0e0e0"
set -g status-left-length 20
set -g status-left '#[bold]#S #[default]'
set -g status-right-length 60
set -g status-right '#(whoami) #[fg=#aaaaaa]| %Y-%m-%d %H:%M'
set -g status-justify centre

# Ensure the window list always shows window index, name, and activity marker.
setw -g window-status-format ' #I:#W ' 
setw -g window-status-current-format '#[bold]#I:#W*'

# Make copy-mode highlight more visible.
setw -g mode-style "bg=#444444 fg=#ffffff"

##### Sensible defaults ####################################################
# Lower escape time speeds up prefix combos without hurting latency.
set -s escape-time 0

# Keep windows named after running commands for easier identification.
set -g automatic-rename on
set -g renumber-windows on
